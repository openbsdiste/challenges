(function(){var l=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,t=/^<\/([-A-Za-z0-9_]+)[^>]*>/,p=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;var q=u("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var v=u("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var n=u("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var s=u("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var m=u("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var o=u("script,style");var r=this.HTMLParser=function(f,h){var c,b,e,a=[],j=f;a.last=function(){return this[this.length-1]};while(f){b=true;if(!a.last()||!o[a.last()]){if(f.indexOf("<!--")==0){c=f.indexOf("-->");if(c>=0){if(h.comment){h.comment(f.substring(4,c))}f=f.substring(c+3);b=false}}else{if(f.indexOf("</")==0){e=f.match(t);if(e){f=f.substring(e[0].length);e[0].replace(t,d);b=false}}else{if(f.indexOf("<")==0){e=f.match(l);if(e){f=f.substring(e[0].length);e[0].replace(l,g);b=false}}}}if(b){c=f.indexOf("<");var i=c<0?f:f.substring(0,c);f=c<0?"":f.substring(c);if(h.chars){h.chars(i)}}}else{f=f.replace(new RegExp("(.*)</"+a.last()+"[^>]*>"),function(x,k){k=k.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1");if(h.chars){h.chars(k)}return""});d("",a.last())}if(f==j){throw"Parse Error: "+f}j=f}d();function g(B,D,C,A){D=D.toLowerCase();if(v[D]){while(a.last()&&n[a.last()]){d("",a.last())}}if(s[D]&&a.last()==D){d("",D)}A=q[D]||!!A;if(!A){a.push(D)}if(h.start){var k=[];C.replace(p,function(y,w){var x=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:m[w]?w:"";k.push({name:w,value:x,escaped:x.replace(/(^|[^\\])"/g,'$1\\"')})});if(h.start){h.start(D,k,A)}}}function d(A,k){if(!k){var B=0}else{for(var B=a.length-1;B>=0;B--){if(a[B]==k){break}}}if(B>=0){for(var z=a.length-1;z>=B;z--){if(h.end){h.end(a[z])}}a.length=B}}};this.HTMLtoXML=function(a){var b="";r(a,{start:function(f,d,e){b+="<"+f;for(var c=0;c<d.length;c++){b+=" "+d[c].name+'="'+d[c].escaped+'"'}b+=(e?"/":"")+">"},end:function(c){b+="</"+c+">"},chars:function(c){b+=c},comment:function(c){b+="<!--"+c+"-->"}});return b};this.HTMLtoDOM=function(f,c){var g=u("html,head,body,title");var b={link:"head",base:"head"};if(!c){if(typeof DOMDocument!="undefined"){c=new DOMDocument()}else{if(typeof document!="undefined"&&document.implementation&&document.implementation.createDocument){c=document.implementation.createDocument("","",null)}else{if(typeof ActiveX!="undefined"){c=new ActiveXObject("Msxml.DOMDocument")}}}}else{c=c.ownerDocument||c.getOwnerDocument&&c.getOwnerDocument()||c}var a=[],d=c.documentElement||c.getDocumentElement&&c.getDocumentElement();if(!d&&c.createElement){(function(){var i=c.createElement("html");var j=c.createElement("head");j.appendChild(c.createElement("title"));i.appendChild(j);i.appendChild(c.createElement("body"));c.appendChild(i)})()}if(c.getElementsByTagName){for(var h in g){g[h]=c.getElementsByTagName(h)[0]}}var e=g.body;r(f,{start:function(j,k,y){if(g[j]){e=g[j];if(!y){a.push(e)}return}var i=c.createElement(j);for(var z in k){i.setAttribute(k[z].name,k[z].value)}if(b[j]&&typeof g[b[j]]!="boolean"){g[b[j]].appendChild(i)}else{if(e&&e.appendChild){e.appendChild(i)}}if(!y){a.push(i);e=i}},end:function(i){a.length-=1;e=a[a.length-1]},chars:function(i){e.appendChild(c.createTextNode(i))},comment:function(i){}});return c};function u(c){var d={},b=c.split(",");for(var a=0;a<b.length;a++){d[b[a]]=true}return d}})();