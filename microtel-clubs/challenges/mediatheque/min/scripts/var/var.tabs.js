var Tabs={controleur:"index",tabs:undefined,tabsId:"#tabs",initTabs:function(b){if(b!=undefined){Tabs.controleur=b}if(Tabs.tabs==undefined){Tabs.tabs=jQuery(Tabs.tabsId);Tabs.tabs.tabs({beforeLoad:function(a,d){if(d.tab.data("loaded")){a.preventDefault();return}d.jqXHR.success(function(){d.tab.data("loaded",true)})}});jQuery(document).on("click","span.ui-icon-close",function(){var a=jQuery(this).closest("li").remove().attr("aria-controls");jQuery("#"+a).remove();Tabs.tabs.tabs("refresh")})}},addTab:function(h,j,g,f){var i="";Tabs.initTabs();if(!jQuery(".ui-tabs-nav li[id='"+h+"']",Tabs.tabs).length){if(f){i="<span class='ui-icon ui-icon-close'>Fermer</span>"}jQuery("<li id='"+h+"'><a href='"+g+"'>"+j+"</a>"+i+"</li>").appendTo("#tabs .ui-tabs-nav");Tabs.tabs.tabs("refresh")}jQuery(".ui-tabs-nav li",Tabs.tabs).each(function(a){if(jQuery(this)[0]["id"]==h){Tabs.tabs.tabs("option","active",a)}})},getTabs:function(){if(Tabs.tabs==undefined){Tabs.initTabs()}return Tabs.tabs},closeTab:function(f){var d=Tabs.tabs.find(".ui-tabs-nav li[id="+f+"]").remove();var e=d.attr("aria-controls");jQuery("#"+e).remove();Tabs.tabs.tabs("refresh")},setTabNotClosable:function(b){Tabs.tabs.find(".ui-tabs-nav li[id='"+b+"']").find(".ui-icon-close").remove()},addQuestionsTab:function(c,d){Tabs.initTabs();if(!jQuery(".ui-tabs-nav li[id='tabtitle-"+c+"']",Tabs.tabs).length){jQuery("<li id='tabtitle-"+c+"'><a href='challenge/"+Tabs.controleur+"/question?id="+c+"'>"+d+"</a><span class='ui-icon ui-icon-close'>Fermer</span></li>").appendTo("#tabs .ui-tabs-nav");Tabs.tabs.tabs("refresh")}jQuery(".ui-tabs-nav li",Tabs.tabs).each(function(a){if(jQuery(this)[0]["id"]=="tabtitle-"+c){Tabs.tabs.tabs("option","active",a)}})},renameQuestionsTab:function(c,d){Tabs.tabs.find(".ui-tabs-nav li[id=tabtitle-node_"+c+"] a").text(d)},closeQuestionsTab:function(b){Tabs.closeTab("tabtitle-node_"+b)},closeAllQuestionsTab:function(){Tabs.tabs.find(".ui-tabs-nav li[id^='tabtitle-node_']").each(function(c,d){Tabs.closeQuestionsTab(d.id.substr(14))})},closeOtherTabs:function(b){Tabs.tabs.find(".ui-tabs-nav li[id!='"+b+"']").each(function(d,a){Tabs.closeTab(a.id)});jQuery(".ui-tabs-nav li",Tabs.tabs).each(function(a){if(jQuery(this)[0]["id"]==b){Tabs.tabs.tabs("option","active",a)}})}};