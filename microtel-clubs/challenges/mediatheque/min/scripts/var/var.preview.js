var Preview={showPreview:function(x,u,p,t){var y=jQuery("#preview"+x);var q=jQuery("<p />");var w=jQuery("<p />");var o=jQuery("<span />");var s=(t==0)?"elaboration":"index";var v=Preview.creeImage(s,u);var n=Preview.creePoints(u);var r=Preview.creeDocuments(s,u.id,p);y.empty();q.append(v);o.append(n);o.append("<br />");o.append(r);q.append(o);y.append(q);w.css("clear","both");w.append("<br />");w.append(u.texte);y.append(w)},showDocumentsQuestion:function(k,n,h){var l=jQuery("#listeDocuments"+k);var m=(h==0)?"challenge/elaboration/fichier":"challenge/index/fichier";l.empty();if(n.length){var o=jQuery("<ul />");for(i in n){var j=Preview.creeDocumentLi(m,k,n[i],"");o.append(j)}l.append(o)}},showDocumentsReponse:function(l,p,j,n){if(n==undefined){n=""}var m=jQuery("#listeDocuments"+n+l);var o="";if(n==""){o=(j==1)?"challenge/elaboration/fichier":"index/fichier"}else{o="challenge/elaboration/fichierreponse"}m.empty();if(p.length){var q=jQuery("<ul />");for(i in p){var k=Preview.creeDocumentLi(o,l,p[i],"reponse");q.append(k)}m.append(q)}},showDocumentsReponseClub:function(l,p,j,n){if(n==undefined){n=""}var m=jQuery("#listeDocuments"+n+l);var o="";if(n==""){o=(j==1)?"challenge/reponse/fichierreponse":"index/fichier"}else{o="challenge/reponse/fichierreponse"}m.empty();if(p.length){var q=jQuery("<ul />");for(i in p){var k=Preview.creeDocumentLi(o,l,p[i],"reponse");q.append(k)}m.append(q)}},creeImage:function(f,d){var e="";if(d.image!=""){e=jQuery("<img />");e.attr("id","imgpreview"+d.id);e.attr("src",Global.baseUrl+"/challenge/"+f+"/image?id="+d.id+"&t="+new Date().getTime());e.attr("width",300);e.css("float","left")}return e},creePoints:function(h){var g="";if(h.information=="0"){g=jQuery("<span />");var f=jQuery("<p />");var b=jQuery("<b />");b.append("&nbsp;Valeur de la question");f.append(b);f.append(" : "+h.valeur);g.append(f)}return g},creeDocuments:function(j,a,k){var b="";if(k.length){b=jQuery("<p >");b.append("&nbsp;");var m=jQuery("<b />");m.append("Document(s) : ");b.append(m);for(i in k){var l=jQuery("<a />");l.attr("target","_blank");l.attr("href",Global.baseUrl+"/challenge/"+j+"/fichier?id="+a+"&nom="+k[i]+"&t="+new Date().getTime());l.append(k[i]);b.append(l);b.append("&nbsp;")}}return b},creeImageDelete:function(g,f,h){var e=jQuery("<img />");e.attr("filename",f);e.attr("qid",g);e.attr("src",Global.baseUrl+"/mediatheque/images/close.png");e.attr("width",16);e.attr("height",16);e.addClass("deletefile"+h);return e},creeDocumentLi:function(k,h,m,j){var a=jQuery("<li />");var l=jQuery("<a />");a.append(Preview.creeImageDelete(h,m,j));a.append("&nbsp;");l.attr("href",Global.baseUrl+"/"+k+"?"+jQuery.param({id:h,nom:m}));l.attr("target","_blank");l.append(m);a.append(l);return a}};